<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>ArachneWarp: /Volumes/xdisc/_sync/_x/src/arachneWarp/arachnewarp/src/core/aw_GeneratorFactory.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>/Volumes/xdisc/_sync/_x/src/arachneWarp/arachnewarp/src/core/aw_GeneratorFactory.cpp</h1>  </div>
</div>
<div class="contents">
<a href="aw___generator_factory_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00009"></a>00009 <span class="preprocessor">#include &quot;<a class="code" href="aw___generator_factory_8h.html" title="header">aw_GeneratorFactory.h</a>&quot;</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="aw___generator_8h.html">aw_Generator.h</a>&quot;</span>
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="aw___common_8h.html">aw_Common.h</a>&quot;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include &quot;<a class="code" href="aw___add_8h.html">aw_Add.h</a>&quot;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="aw___constant_8h.html" title="Header.">aw_Constant.h</a>&quot;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &quot;<a class="code" href="aw___wave_square_8h.html" title="header">aw_WaveSquare.h</a>&quot;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="aw___wave_sine_8h.html">aw_WaveSine.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="aw___random_uniform_8h.html" title="header">aw_RandomUniform.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &quot;<a class="code" href="aw___multiply_8h.html">aw_Multiply.h</a>&quot;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &quot;<a class="code" href="aw___filter_low_pass_8h.html">aw_FilterLowPass.h</a>&quot;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="aw___filter_high_pass_8h.html">aw_FilterHighPass.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="aw___click_8h.html">aw_Click.h</a>&quot;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="aw___poly_constant_8h.html">aw_PolyConstant.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="aw___selector_8h.html">aw_Selector.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="aw___pan_stereo_8h.html">aw_PanStereo.h</a>&quot;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">// =============================================================================</span>
<a name="l00027"></a><a class="code" href="class_generator_factory.html#abb1456c20914a90307d773a767557638">00027</a> <a class="code" href="class_generator_factory.html#abb1456c20914a90307d773a767557638">GeneratorFactory :: GeneratorFactory</a>(<a class="code" href="aw___system_8h.html#ad9c29cc0010d71567dbbff11af7533ed">SystemPtr</a> o)
<a name="l00028"></a>00028     : sys_(o) <span class="comment">// initialize</span>
<a name="l00029"></a>00029 {
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">// see here for more ideas</span>
<a name="l00033"></a>00033 <span class="comment">//http://stackoverflow.com/questions/333400/how-to-design-a-simple-c-object-factory</span>
<a name="l00034"></a>00034 
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="comment">// =============================================================================</span>
<a name="l00037"></a><a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">00037</a> <a class="code" href="aw___generator_8h.html#a8318a263a87782ece953191b4a5a3652">GeneratorPtr</a> <a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">GeneratorFactory :: create</a>(<a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5" title="All Generators can be accessed by name.">aw::GeneratorName</a> gn)
<a name="l00038"></a>00038 {
<a name="l00039"></a>00039     <span class="keywordflow">switch</span> (gn) {     
<a name="l00040"></a>00040         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a4822264f4b3d34f0f7f16279d86c8223">aw::gNameAdd</a>: {
<a name="l00041"></a>00041             <a class="code" href="aw___add_8h.html#ad39ff53b2f8f5b1914c1ae904bffcbc6">AddPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_add.html" title="Generator that adds up to four input Generators.">Add</a>(sys_));
<a name="l00042"></a>00042             <span class="keywordflow">return</span> g;
<a name="l00043"></a>00043             }
<a name="l00044"></a>00044         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a5a0be4440da5fdae860d06fd68911219">aw::gNameMultiply</a>: {
<a name="l00045"></a>00045             <a class="code" href="aw___multiply_8h.html#a0df790a181f96d034de7022d76049833">MultiplyPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_multiply.html" title="Generator of multiplied inputs.">Multiply</a>(sys_));
<a name="l00046"></a>00046             <span class="keywordflow">return</span> g;
<a name="l00047"></a>00047             }
<a name="l00048"></a>00048         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5ad110eca889becb2e4a32d6bdca5878d1">aw::gNameConstant</a>: {
<a name="l00049"></a>00049             <a class="code" href="aw___constant_8h.html#a090e8255f71ab0b318de50bee9c29dd7">ConstantPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_constant.html" title="Base class of all generators.">Constant</a>(sys_));
<a name="l00050"></a>00050             <span class="keywordflow">return</span> g;
<a name="l00051"></a>00051             }
<a name="l00052"></a>00052         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a095c548cdf94fb0fe93f30b29170de4e">aw::gNameRandomUniform</a>: {
<a name="l00053"></a>00053             <a class="code" href="aw___random_uniform_8h.html#a0c483272fa3a75ad3ef549f046de663e">RandomUniformPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_random_uniform.html" title="Generator of random uniformity.">RandomUniform</a>(sys_));
<a name="l00054"></a>00054             <span class="keywordflow">return</span> g;
<a name="l00055"></a>00055             }
<a name="l00056"></a>00056         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5aa0a8e57b79da2a53baf9dd9d35b5dd03">aw::gNameWaveSine</a>: {
<a name="l00057"></a>00057             <a class="code" href="aw___wave_sine_8h.html#ade7ed76d72e74e29de77983e09d66b8d">WaveSinePtr</a> g(<span class="keyword">new</span> <a class="code" href="class_wave_sine.html" title="Generator of a square wave.">WaveSine</a>(sys_));
<a name="l00058"></a>00058             <span class="keywordflow">return</span> g;
<a name="l00059"></a>00059             }
<a name="l00060"></a>00060         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a13c96465882eaa90fc0669d9af67ef6f">aw::gNameWaveSquare</a>: {
<a name="l00061"></a>00061             <a class="code" href="aw___wave_square_8h.html#a3244ca2db368525944607d39f5d81102">WaveSquarePtr</a> g(<span class="keyword">new</span> <a class="code" href="class_wave_square.html" title="Generator of a square wave.">WaveSquare</a>(sys_));
<a name="l00062"></a>00062             <span class="keywordflow">return</span> g;
<a name="l00063"></a>00063             }
<a name="l00064"></a>00064         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a0dd9453ea9769148f77bb9e887ea1eb0">aw::gNameFilterLowPass</a>: {
<a name="l00065"></a>00065             <a class="code" href="aw___filter_low_pass_8h.html#a90075015e1de8cb341ec4ed936b477b7">FilterLowPassPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_filter_low_pass.html" title="Generator of multiplied inputs.">FilterLowPass</a>(sys_));
<a name="l00066"></a>00066             <span class="keywordflow">return</span> g;
<a name="l00067"></a>00067             }
<a name="l00068"></a>00068         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a768cafc3ceecf250779453f2bcffbb67">aw::gNameFilterHighPass</a>: {
<a name="l00069"></a>00069             <a class="code" href="aw___filter_high_pass_8h.html#a58db6cba8c3bd3403b2a730d678dc39d">FilterHighPassPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_filter_high_pass.html" title="Generator of multiplied inputs.">FilterHighPass</a>(sys_));
<a name="l00070"></a>00070             <span class="keywordflow">return</span> g;
<a name="l00071"></a>00071             }
<a name="l00072"></a>00072         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a0599d2368e1bef8ce110162cff879648">aw::gNameClick</a>: {
<a name="l00073"></a>00073             <a class="code" href="aw___click_8h.html#a73e3f08be4461a6b1c70b4f67b1dcc1e">ClickPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_click.html" title="Generator of a square wave.">Click</a>(sys_));
<a name="l00074"></a>00074             <span class="keywordflow">return</span> g;
<a name="l00075"></a>00075             }
<a name="l00076"></a>00076         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a48f643e3d7028a2d864d956ac8a1529d">aw::gNamePolyConstant</a>: {
<a name="l00077"></a>00077             <a class="code" href="aw___poly_constant_8h.html#a5babdc895b3f38b5a7a012ba07e922f3">PolyConstantPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_poly_constant.html" title="PolyGenerator of a constant list of values.">PolyConstant</a>(sys_));
<a name="l00078"></a>00078             <span class="keywordflow">return</span> g;
<a name="l00079"></a>00079             }
<a name="l00080"></a>00080         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5ac72f8353b4526b7467979fd3f0c7643a">aw::gNameSelector</a>: {
<a name="l00081"></a>00081             <a class="code" href="aw___selector_8h.html#ae014ccb093ab07c305ea1b61f2daa890">SelectorPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_selector.html" title="Generator that selects values from a PolyGenerator.">Selector</a>(sys_));
<a name="l00082"></a>00082             <span class="keywordflow">return</span> g;
<a name="l00083"></a>00083             }
<a name="l00084"></a>00084         <span class="keywordflow">case</span> <a class="code" href="namespaceaw.html#a0e1b1c8c0b59dd67d18e3f2072f4bce5a4dbcceb5a33d084075b858b45472a6a4">aw::gNamePanStereo</a>: {
<a name="l00085"></a>00085             <a class="code" href="aw___pan_stereo_8h.html#ae04182ee1a754682e41ff7dc4bfaf2ee">PanStereoPtr</a> g(<span class="keyword">new</span> <a class="code" href="class_pan_stereo.html" title="PolyGenerator that returns two values, one for each channel.">PanStereo</a>(sys_));
<a name="l00086"></a>00086             <span class="keywordflow">return</span> g;
<a name="l00087"></a>00087             }
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     };
<a name="l00090"></a>00090     <span class="comment">// compiler warning here for not having an output</span>
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 
<a name="l00094"></a>00094 
<a name="l00095"></a>00095 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00097"></a><a class="code" href="class_generator_factory.html#a6139611f237f1e0fb34e6d2416a51e0f">00097</a> <span class="comment"></span><a class="code" href="aw___generator_8h.html#a8318a263a87782ece953191b4a5a3652">GeneratorPtr</a> <a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">GeneratorFactory :: create</a>(std::string&amp; gn)
<a name="l00098"></a>00098 {
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     <span class="keywordflow">if</span> (<a class="code" href="namespaceaw.html#a242f1c8a2d809141cf51f4b17affaeca" title="Retrun boolean if a parameter string is well formed, or of all braces are matching pairs...">aw::stringWellFormed</a>(gn, &amp;<a class="code" href="namespaceaw.html#a36c6240fb56d08d44fdf9689839197c2">aw::charPmtrOpen</a>, &amp;<a class="code" href="namespaceaw.html#a473621e3f7e48e554954ec85257ecf29">aw::charPmtrClose</a>) == 
<a name="l00101"></a>00101         <span class="keyword">false</span>) {
<a name="l00102"></a>00102         <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;malformed parameter string cannot be used to create a generator: &quot;</span> + gn);
<a name="l00103"></a>00103     }
<a name="l00104"></a>00104     <span class="comment">// std::cout &lt;&lt; &quot;GeneratorFactory: string invocation: &quot; &lt;&lt; gn &lt;&lt; std::endl;</span>
<a name="l00105"></a>00105 
<a name="l00106"></a>00106     <span class="comment">// convert string to a GeneratorName, pass to create</span>
<a name="l00107"></a>00107     std::string name; 
<a name="l00108"></a>00108     std::string arguments;
<a name="l00109"></a>00109     std::string context;
<a name="l00110"></a>00110     std::string working;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <a class="code" href="namespaceaw.html#a5483f4fe8d39e6d7920c04c8db2c1274" title="Get the first group of three parameter components. The working string returns the remaining string...">aw::getFirstParameterTrio</a>(gn, name, arguments, context, working);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     <span class="comment">// converter string to enum name</span>
<a name="l00115"></a>00115     <a class="code" href="aw___generator_8h.html#a8318a263a87782ece953191b4a5a3652">GeneratorPtr</a> g = <a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">create</a>(<a class="code" href="namespaceaw.html#ad9fea6e51edc02f92f0857fb5e425cbf" title="Converter from a string to enumeration.">aw::stringToGeneratorName</a>(name));
<a name="l00116"></a>00116 
<a name="l00117"></a>00117     <span class="comment">// next, read and set arguments and context</span>
<a name="l00118"></a>00118     <span class="keywordflow">if</span> (arguments != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00119"></a>00119         g-&gt;readParameterString(arguments);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="keywordflow">return</span> g;
<a name="l00122"></a>00122 }
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">// -----------------------------------------------------------------------------</span>
<a name="l00127"></a><a class="code" href="class_generator_factory.html#af9f3b4e011ebad57116f2454e9dc9382">00127</a> <span class="comment"></span><a class="code" href="aw___generator_8h.html#a8318a263a87782ece953191b4a5a3652">GeneratorPtr</a> <a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">GeneratorFactory :: create</a>(<span class="keywordtype">char</span>* <span class="keyword">const</span> charArray)
<a name="l00128"></a>00128 {
<a name="l00129"></a>00129     <span class="comment">// convert string to a GeneratorName, pass to create</span>
<a name="l00130"></a>00130     <span class="comment">// no direct conversion is necessary here</span>
<a name="l00131"></a>00131     std::string gn(charArray);
<a name="l00132"></a>00132     <a class="code" href="aw___generator_8h.html#a8318a263a87782ece953191b4a5a3652">GeneratorPtr</a> g = <a class="code" href="class_generator_factory.html#a8058bcb2a8e8eae2e75e76d9f70bd0f1">create</a>(gn); <span class="comment">// pass to string version</span>
<a name="l00133"></a>00133     <span class="keywordflow">return</span> g;
<a name="l00134"></a>00134 }
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri Sep 3 2010 09:26:03 for ArachneWarp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
